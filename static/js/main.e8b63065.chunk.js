(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(7),i=n.n(o),c=n(1),s=n(2),u=n(4),l=n(3),d=n(5),h=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("g",{className:"year","data-id":this.props.id,"data-year":this.props.year},this.props.content)}}]),e}(r.Component),p=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("g",{className:"prizesList","data-id":this.props.id},this.props.content)}}]),e}(r.Component),m=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("g",{className:"category","data-id":this.props.id},this.props.content)}}]),e}(r.Component),f=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return this.props.content}}]),e}(r.Component),g=[],y=function(t,e){return Math.floor(Math.random()*(e-t)+t)},O=function(){for(var t=y(5,10),e=1934,n=0;n<t;n++)g.push({year:e++,prizeList:[]});return g.map(function(t){for(var e=0;e<y(0,6);e++)t.prizeList.push([]);return console.clear()}),g.map(function(t){return t.prizeList.map(function(t,e){for(var n=0;n<y(0,5);n++)t.push({name:"jan",bio:"i'm a bio",data:{field:e,country:"FR",gender:Math.round(Math.random()),age:y(22,70)}});return console.clear()})}),g},b=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).UNSAFE_componentWillMount=function(){return n.fetchData()},n.fetchData=function(){console.log(n.state.timeline2)},n.generatePriceWinners=function(t,e,r){return t.map(function(t,o){n.dot.y+=n.state.dot.inc;var i=n.dot.x-4,c=n.state.svg.h-n.dot.y-4;return n.prizeWinnersArr.push(a.a.createElement(f,{key:"".concat(e).concat(r).concat(o),content:t.data.gender?a.a.createElement("circle",{className:"dot","data-id":"".concat(e).concat(r).concat(o),"data-category":t.data.field,cx:n.dot.x,cy:n.state.svg.h-n.dot.y,r:n.state.dot.scaleOut,onMouseOver:function(t){return n.dotMouseOver(t)},onMouseOut:function(t){return n.dotMouseOut(t)}}):a.a.createElement("rect",{width:"8",height:"8",x:i,y:c,className:"dot","data-id":"".concat(e).concat(r).concat(o),"data-category":t.data.field})}))})},n.generateCategories=function(t,e){return t.prizeList.map(function(t,r){return 0!==t.length&&(n.totalLength+=t.length,n.dot.y+=n.state.dot.inc,n.prizeWinnersArr=[],n.generatePriceWinners(t,e,r)),n.CategoriesArr.push(0!==t.length?a.a.createElement(m,{key:"".concat(e).concat(r),id:"".concat(e).concat(r),content:n.prizeWinnersArr}):null)})},n.generatePrizes=function(t,e){n.totalLength=0,n.line.x+=n.state.line.inc,n.dot.x=n.line.x,n.dot.y=0,n.CategoriesArr=[],n.generateCategories(t,e),n.line.y=n.state.svg.h-n.totalLength*n.state.line.multiplier,n.prizesArr.push(a.a.createElement(p,{key:e,id:e,content:n.CategoriesArr}))},n.generateTimeline=function(){return n.state.timeline2.map(function(t,e){return n.prizesArr=[],n.generatePrizes(t,e),a.a.createElement(h,{key:e,"data-id":e,year:t.year,content:a.a.createElement(r.Fragment,null,a.a.createElement("line",{"data-id":e,x1:n.line.x,y1:n.line.y,x2:n.line.x,y2:n.state.svg.h}),n.prizesArr)})})},n.dotMouse=function(t,e,r){var a=t.target,o=a.parentNode.parentNode.parentNode.querySelectorAll("circle");a.setAttribute("r",e),Array.from(o).map(function(t){var e=a.dataset.id,o=t.dataset.id,i=parseInt(t.getAttribute("cy"));return 1===r?e>o?i+=n.state.dot.othersDotsPosition:e<o&&(i-=n.state.dot.othersDotsPosition):0===r&&(e<o?i+=n.state.dot.othersDotsPosition:e>o&&(i-=n.state.dot.othersDotsPosition)),t.setAttribute("cy",i)})},n.dotMouseOver=function(t){return n.dotMouse(t,n.state.dot.scaleIn,1)},n.dotMouseOut=function(t){return n.dotMouse(t,n.state.dot.scaleOut,0)},n.state={json:"https://trash.a-dll.com/tl.json",timeline:[],timeline2:O(),svg:{w:500,h:400},line:{inc:20,multiplier:20},dot:{inc:10,othersDotsPosition:10,scaleIn:10,scaleOut:5}},n.totalLength=0,n.prizesArr=[],n.CategoriesArr=[],n.prizeWinnersArr=[],n.line={x:0,y:0},n.dot={x:n.line.x,y:0},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("svg",{id:"Timeline",width:this.state.svg.w,height:this.state.svg.h},this.generateTimeline())}}]),e}(r.Component),j=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(b,null))}}]),e}(r.Component);n(14),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},8:function(t,e,n){t.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.e8b63065.chunk.js.map